<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MenuAI - Upload Restaurant Menu</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital,wght@0,400&family=Ropa+Sans:ital,wght@0,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Background gradient blur -->
        <div class="background-blur"></div>
        
        <!-- Main content -->
        <main class="main-content">
            <!-- Title -->
            <h1 class="main-title">Upload images of Restaurant Menu!</h1>
            
            <!-- Description -->
            <p class="description">
                Decode/Translate complex dish titles<br>
                Descriptions + Ingredients + Calories + Allergen + Pronunciation + Images
            </p>
            
            <!-- Hidden file input for gallery selection -->
            <input type="file" id="gallery-input" accept="image/*" multiple class="hidden-input">
            
            <!-- Menu upload card -->
            <div class="menu-card" id="menu-card">
                <!-- Checkerboard pattern background -->
                <div class="checkerboard-bg">
                    <!-- Generate checkerboard pattern with individual squares -->
                    <div class="checker-row">
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                    </div>
                    <div class="checker-row">
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                    </div>
                    <div class="checker-row">
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                    </div>
                    <div class="checker-row">
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                    </div>
                    <div class="checker-row">
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                    </div>
                    <div class="checker-row">
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                    </div>
                    <div class="checker-row">
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                    </div>
                    <div class="checker-row">
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                    </div>
                    <div class="checker-row">
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                    </div>
                    <div class="checker-row">
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                    </div>
                    <div class="checker-row">
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                    </div>
                    <div class="checker-row">
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                    </div>
                    <div class="checker-row">
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                    </div>
                    <div class="checker-row">
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                    </div>
                    <div class="checker-row">
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                    </div>
                    <div class="checker-row">
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                        <div class="checker-square orange"></div>
                        <div class="checker-square white"></div>
                    </div>
                </div>
                
                <!-- Card overlay with gradient -->
                <div class="card-overlay"></div>
                
                <!-- Empty state - Menu upload interface -->
                <div class="menu-content" id="empty-state">
                    <img src="bd1b62afae645bcedafd9001263b3c87dce15772.png" alt="Menu interface" class="menu-uploaded-image">
                </div>
                
                <!-- Selected state - Image previews -->
                <div class="menu-content-selected" id="selected-state" style="display: none;">
                    <!-- Preview images container -->
                    <div class="preview-container" id="preview-container">
                        <!-- Main preview image will be dynamically added here -->
                        
                        <!-- Cross button to clear selection -->
                        <div class="cross-button" id="cross-button">
                            <svg width="24" height="24" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg" class="cross-icon-svg">
                                <circle cx="15.5" cy="15.5" r="15.5" fill="#A4A4A4"/>
                                <line x1="9.82843" y1="9" x2="22" y2="21.1716" stroke="white" stroke-width="4" stroke-linecap="round"/>
                                <line x1="10" y1="21.1716" x2="22.1716" y2="9" stroke="white" stroke-width="4" stroke-linecap="round"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Proceed button -->
            <button class="proceed-button" id="proceed-button" disabled>Proceed</button>
        </main>
        
        <!-- Decorative food illustration -->
        <div class="food-illustration">
            <img src="6dda884d01f5eb17201b2606849277e69541e05c.png" alt="Food illustration" class="food-image">
        </div>
    </div>

    <script>
        // Gallery functionality
        const galleryInput = document.getElementById('gallery-input');
        const emptyState = document.getElementById('empty-state');
        const selectedState = document.getElementById('selected-state');
        const previewContainer = document.getElementById('preview-container');
        const crossButton = document.getElementById('cross-button');
        const proceedButton = document.getElementById('proceed-button');
        const menuUploadedImage = document.querySelector('.menu-uploaded-image');
        
        let selectedImages = [];

        // Click on menu image opens gallery
        menuUploadedImage.addEventListener('click', () => {
            galleryInput.click();
        });

        // Handle file selection
        galleryInput.addEventListener('change', (e) => {
            const files = Array.from(e.target.files);
            
            // Limit to 5 images
            if (files.length > 5) {
                alert('Maximum 5 images allowed');
                return;
            }
            
            if (files.length > 0) {
                selectedImages = files;
                showSelectedState();
                enableProceedButton();
            }
        });

                // Show selected state with main preview image
        function showSelectedState() {
            // Clear existing previews but keep the cross button
            const existingImages = previewContainer.querySelectorAll('.preview-image-main');
            existingImages.forEach(img => img.remove());

            // Store images data for processing
            const imageDataArray = [];

            // Show the first selected image as the main preview
            if (selectedImages.length > 0) {
                // Process all images to get their data URLs
                selectedImages.forEach((file, index) => {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        imageDataArray.push(e.target.result);
                        
                        // Show only the first image as preview
                        if (index === 0) {
                            const img = document.createElement('img');
                            img.src = e.target.result;
                            img.className = 'preview-image-main';
                            img.alt = 'Menu Preview';
                            
                            // Insert the image before the cross button
                            const crossButton = previewContainer.querySelector('.cross-button');
                            if (crossButton) {
                                previewContainer.insertBefore(img, crossButton);
                            } else {
                                previewContainer.appendChild(img);
                            }
                        }
                        
                        // Store all image data when all are processed
                        if (imageDataArray.length === selectedImages.length) {
                            localStorage.setItem('selectedImages', JSON.stringify(imageDataArray));
                        }
                    };
                    reader.readAsDataURL(file);
                });
            }
            
            // Switch to selected state
            emptyState.style.display = 'none';
            selectedState.style.display = 'flex';
        }

        // Clear selection and return to empty state
        function clearSelection() {
            selectedImages = [];
            galleryInput.value = '';
            
            // Remove only the preview images, keep the cross button
            const existingImages = previewContainer.querySelectorAll('.preview-image-main');
            existingImages.forEach(img => img.remove());
            
            // Switch back to empty state
            selectedState.style.display = 'none';
            emptyState.style.display = 'flex';
            
            disableProceedButton();
        }

        // Cross button click handler
        crossButton.addEventListener('click', clearSelection);

        // Enable/disable proceed button
        function enableProceedButton() {
            proceedButton.disabled = false;
        }

        function disableProceedButton() {
            proceedButton.disabled = true;
        }

        // Initially ensure proceed button is disabled
        disableProceedButton();
        
        // Proceed button click handler - navigate to results page
        proceedButton.addEventListener('click', () => {
            if (!proceedButton.disabled && selectedImages.length > 0) {
                // Navigate to results page
                window.location.href = 'results.html';
            }
        });
    </script>
</body>
</html> 